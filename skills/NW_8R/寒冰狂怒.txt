
var 魔力保护 = 200;
var 怪最大血 = 10000;
var 地面怪保护距离 = 20;

// 坐下时不使用技能
if(自己.状态 != 5) {
  return false;
}

if(自己.魔 < 魔力保护) {
  return false;
}

// 寻找条件目标
var 攻击目标 = 0;
if(获得表数量(怪) > 0) {
  for(i=1;获得表数量(怪);1) {
    if(怪[i].距离 < 技能距离 && 怪[i].最大血 > 怪最大血) {
      攻击目标 = 怪[i].id;
      break;
    }
  }

  if(地面怪保护距离 > 0) {
    for(i=1;获得表数量(怪);1) {
      if(怪[i].距离 < 10 && 怪[i].最大血 < 怪最大血) {
        攻击目标 = 怪[i].id;
        break;
      }
    }
  }
}


if(攻击目标 == 0) {
  return false;
}

return 使用技能(技能id,技能等级,攻击目标);