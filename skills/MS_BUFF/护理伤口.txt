
var 失血保护 = 300;
var 照顾队友 = true; // 身为牧师必须要保护队友

// 坐下时不使用技能
if(自己.状态 != 5) {
  return false;
}

var 技能目标 = {};

if(照顾队友) {
  for(i=1;获得表数量(队友);1) {
    if(队友[i].距离 < 技能距离) {
      添加进表(技能目标,队友[i]);
    }
  }
}

添加进表(技能目标,自己);

for(i=1;获得表数量(技能目标);1) {
  if(技能目标[i].最大血 - 技能目标[i].血 > 失血保护) {
    return 使用技能(技能id,技能等级,技能目标[i].id);
  }
}

return false;