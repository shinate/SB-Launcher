

var 阈值百分比 = 0.4;
var 看护目标 = ""

// 坐下时不使用技能
if(自己.状态 != 5) {
  return false;
}

var 目标 = {};

for(i=1;获得表数量(队友);1) {
  if(队友[i].名字 == 看护目标 && 队友[i].距离 < 技能距离) {
    添加进表(目标,队友[i]);
  }
}

添加进表(目标,自己);

// 如果有看护目标，优先看护目标，没有的话，目标里只有自己
for(i=1;获得表数量(目标);1) {
  if(目标[i].耐 / 目标[i].最大耐 < 阈值百分比) {
    if(使用技能(技能id,技能等级,目标[i].id)) {
      return false;
    }
  }
}

return false;