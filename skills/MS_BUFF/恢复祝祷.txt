var 阈值 = 0.25;
var 目标 = 队友

添加进表(目标,自己);

for(i=1;获得表数量(目标);1) {
  if((目标[i].id == 自己.id || 目标[i].距离 < 技能距离) && 目标[i].耐 / 目标[i].最大耐 < 阈值) {
    return 使用技能(技能id,技能等级)
  }
}

return false